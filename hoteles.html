<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cadenas Hoteleras de Lujo</title>
<link rel="stylesheet" href="estilos/styles.css">
</head>
<body>
<header>
    <nav>
        <ul class="menu">
            <li><a href="index.html">Inicio</a></li>
            <li><a href="destinos.html">Destinos</a></li>
            <li><a href="hoteles.html" class="active">Hoteles</a></li>
            <li><a href="contacto.html">Contacto</a></li>
        </ul>
    </nav>
</header>

<div class="row">
    <div class="left">
        <h2>Cadenas Hoteleras</h2>
        <input type="text" id="search" class="form-control mb-3" placeholder="Buscar cadena hotelera...">
        <ul id="myMenu" class="list-group">
        </ul>
    </div>

    <div class="right" id="contentArea">
      <h2>Información de la Cadena Hotelera</h2>
      <p>Selecciona una cadena hotelera del menú para ver más detalles.</p>
  </div>  

<script>
    fetch('datahoteles.xml')
        .then(response => response.text())
        .then(data => {
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(data, 'application/xml');
            const hoteles = xmlDoc.getElementsByTagName('hotel');
            const menu = document.getElementById('myMenu');

            menu.innerHTML = '';

            Array.from(hoteles).forEach(hotel => {
                const id = hotel.querySelector('id').textContent;
                const nombre = hotel.querySelector('nombre').textContent;

                const li = document.createElement('li');
                li.innerHTML = `<a href="#" onclick="showContent('${id}')">${nombre}</a>`;
                li.classList.add('list-group-item');
                menu.appendChild(li);
            });
        })
        .catch(error => console.error('Error al cargar el archivo XML:', error));

    function showContent(id) {
        fetch('datahoteles.xml')
            .then(response => response.text())
            .then(data => {
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(data, 'application/xml');
                const hotel = Array.from(xmlDoc.getElementsByTagName('hotel')).find(h => h.querySelector('id').textContent === id);

                if (hotel) {
                    const nombre = hotel.querySelector('nombre').textContent;
                    const descripcion = hotel.querySelector('descripcion').textContent;
                    const imagen = hotel.querySelector('imagen') ? hotel.querySelector('imagen').textContent : '';
                    const link = hotel.querySelector('link') ? hotel.querySelector('link').textContent : '#';

                    const contentArea = document.getElementById('contentArea');
                    contentArea.innerHTML = `
                        <div>
                            <h2>${nombre}</h2>
                            ${imagen ? `<img src="${imagen}" alt="${nombre}">` : ''}
                            <p>${descripcion}</p>
                            <a href="${link}" target="_blank" class="btn-registro">Visitar sitio oficial</a>
                        </div>
                    `;
                }
            })
            .catch(error => console.error('Error al mostrar contenido:', error));
    }

    // Filtro de búsqueda
    document.getElementById('search').addEventListener('keyup', function () {
        const filter = this.value.toUpperCase();
        const items = document.querySelectorAll('#myMenu li');

        items.forEach(item => {
            const text = item.textContent || item.innerText;
            item.style.display = text.toUpperCase().includes(filter) ? '' : 'none';
        });
    });
</script>

</body>
</html>
