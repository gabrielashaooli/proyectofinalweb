<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../estilos/styleservicios.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <title>Traveler Assistant - Clima, Moneda y Vuelos</title>
</head>
<body class="weather">
    <!-- Barra de navegaci√≥n -->
    <header>
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Elitescapes</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="../src/mi_perfil.php">Mi perfil</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../views/plan.html">Travel Assistant</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../src/reservas.php">Reservas</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../views/servicios.html">Servicios</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../views/mapa.html">Mapa</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <div class="d-flex">
        <!-- Barra lateral -->
        <aside class="sidebar bg-light shadow-sm p-3">
            <h3>Opciones</h3>
            <ul id="menu" class="list-group">
                <li class="list-group-item list-group-item-secondary"><a href="#" data-section="weather">Clima</a></li>
                <li class="list-group-item list-group-item-secondary"><a href="#" data-section="currency">Conversor de Moneda</a></li>
            </ul>
        </aside>

        <main class="container mt-4" id="content">
            <!-- Aplicaci√≥n de Clima -->
            <section id="weather" class="weatherapp p-4 content-section">
                <h2 class="text-center mb-4">üå§Ô∏è Aplicaci√≥n del Clima</h2>
                <form id="search-form" class="d-flex justify-content-center mb-4">
                    <input class="form-control me-2 search-input" type="text" placeholder="Escribe el nombre de una ciudad..." id="search-input" />
                    <button type="submit" class="btn btn-info">Buscar</button>
                    <button type="button" class="btn btn-secondary ms-2 current">Ubicaci√≥n Actual</button>
                </form>
                <div class="weather-info text-center p-4 rounded shadow">
                    <h3 id="title" class="weather-city text-info mb-2">Nombre de la ciudad</h3>
                    <p class="weather-date text-muted">Fecha: <span class="date">DD/MM/AAAA</span></p>
                    <div class="d-flex align-items-center justify-content-center my-3">
                        <img src="https://ssl.gstatic.com/onebox/weather/64/cloudy.png" alt="Weather icon" id="icon" class="weather-icon me-3" />
                        <div>
                            <span id="temperature-num" class="temperature fs-2">22</span>
                            <span class="units">
                                <a href="#" id="temperature-cel" class="text-decoration-none">¬∞C</a> |
                                <a href="#" id="temperature-far" class="text-decoration-none">¬∞F</a>
                            </span>
                        </div>
                    </div>
                    <p id="weatherdesc" class="weather-description fs-5 text-muted">Descripci√≥n del clima</p>
                    <p class="weather-details text-muted">
                        Humedad: <span class="humidity">0</span>% | Viento: <span class="wind">0</span> km/h
                    </p>
                </div>
                <div class="quick-buttons mt-4 d-flex justify-content-around">
                    <button class="btn btn-outline-info ny">New York</button>
                    <button class="btn btn-outline-info mad">Madrid</button>
                    <button class="btn btn-outline-info lon">London</button>
                    <button class="btn btn-outline-info mex">Mexico City</button>
                </div>
            </section>

            <!-- Aplicaci√≥n de Conversor de Moneda -->
            <section id="currency" class="currencyapp p-4 content-section" style="display: none;">
                <h2 class="text-center mb-4">üí± Convertidor de Moneda</h2>
                <form id="currencyForm">
                    <input type="number" id="amount" placeholder="Monto (Ej. 100)" class="form-control mb-3" required />
                    
                    <label for="fromCurrency">De:</label>
                    <select id="fromCurrency" class="form-control mb-3">
                        <option value="USD">D√≥lar estadounidense (USD)</option>
                        <option value="EUR">Euro (EUR)</option>
                        <option value="MXN">Peso mexicano (MXN)</option>
                        <option value="JPY">Yen japon√©s (JPY)</option>
                        <option value="GBP">Libra esterlina (GBP)</option>
                        <option value="AUD">D√≥lar australiano (AUD)</option>
                        <option value="CAD">D√≥lar canadiense (CAD)</option>
                        <option value="CHF">Franco suizo (CHF)</option>
                        <option value="CNY">Yuan chino (CNY)</option>
                        <option value="SEK">Corona sueca (SEK)</option>
                        <option value="NZD">D√≥lar neozeland√©s (NZD)</option>
                        <option value="SGD">D√≥lar de Singapur (SGD)</option>
                        <option value="HKD">D√≥lar de Hong Kong (HKD)</option>
                        <option value="NOK">Corona noruega (NOK)</option>
                        <option value="KRW">Won surcoreano (KRW)</option>
                        <option value="TRY">Lira turca (TRY)</option>
                        <option value="RUB">Rublo ruso (RUB)</option>
                        <option value="INR">Rupia india (INR)</option>
                        <option value="BRL">Real brasile√±o (BRL)</option>
                        <option value="ZAR">Rand sudafricano (ZAR)</option>
                        <option value="DKK">Corona danesa (DKK)</option>
                        <option value="PLN">Zloty polaco (PLN)</option>
                        <option value="THB">Baht tailand√©s (THB)</option>
                        <option value="IDR">Rupia indonesia (IDR)</option>
                        <option value="AED">Dirham de los Emiratos √Årabes (AED)</option>
                    </select>
            
                    <label for="toCurrency">A:</label>
                    <select id="toCurrency" class="form-control mb-3">
                        <option value="USD">D√≥lar estadounidense (USD)</option>
                        <option value="EUR">Euro (EUR)</option>
                        <option value="MXN">Peso mexicano (MXN)</option>
                        <option value="JPY">Yen japon√©s (JPY)</option>
                        <option value="GBP">Libra esterlina (GBP)</option>
                        <option value="AUD">D√≥lar australiano (AUD)</option>
                        <option value="CAD">D√≥lar canadiense (CAD)</option>
                        <option value="CHF">Franco suizo (CHF)</option>
                        <option value="CNY">Yuan chino (CNY)</option>
                        <option value="SEK">Corona sueca (SEK)</option>
                        <option value="NZD">D√≥lar neozeland√©s (NZD)</option>
                        <option value="SGD">D√≥lar de Singapur (SGD)</option>
                        <option value="HKD">D√≥lar de Hong Kong (HKD)</option>
                        <option value="NOK">Corona noruega (NOK)</option>
                        <option value="KRW">Won surcoreano (KRW)</option>
                        <option value="TRY">Lira turca (TRY)</option>
                        <option value="RUB">Rublo ruso (RUB)</option>
                        <option value="INR">Rupia india (INR)</option>
                        <option value="BRL">Real brasile√±o (BRL)</option>
                        <option value="ZAR">Rand sudafricano (ZAR)</option>
                        <option value="DKK">Corona danesa (DKK)</option>
                        <option value="PLN">Zloty polaco (PLN)</option>
                        <option value="THB">Baht tailand√©s (THB)</option>
                        <option value="IDR">Rupia indonesia (IDR)</option>
                        <option value="AED">Dirham de los Emiratos √Årabes (AED)</option>
                    </select>
            
                    <button type="submit" class="btn btn-outline-info">Convertir</button>
                </form>
                <div id="conversionResult" class="mt-3 text-center">
                    <h5 class="hint text-muted">El resultado aparecer√° aqu√≠...</h5>
                </div>
            </section>
            

<footer class="text-center py-3 mt-4 bg-light">
        <p>&copy; 2024 Travel Agent. Todos los derechos reservados.</p>
      </footer> 

    <!-- Scripts -->
    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
    <script src="../src/appweather.js"></script>
    <script src="../scripts/currency.js"></script>
    <script src="../scripts/script.js"></script>
<script>
function showSection(sectionId) {
    // Ocultar todas las secciones
    document.querySelectorAll('.content-section').forEach(section => {
        section.style.display = 'none';
    });
    // Mostrar la secci√≥n seleccionada
    const selectedSection = document.getElementById(sectionId);
    if (selectedSection) {
        selectedSection.style.display = 'block';
    }
}

// Manejar clics en el men√∫
document.getElementById('menu').addEventListener('click', e => {
    const target = e.target.closest('a'); // Asegura que sea un <a>
    if (target && target.hasAttribute('data-section')) {
        e.preventDefault(); // Evita el comportamiento predeterminado solo si es necesario
        const sectionId = target.getAttribute('data-section');
        if (sectionId) {
            showSection(sectionId);
        }
    }
});

// Obtener ubicaci√≥n actual y mostrar datos del clima
function getCurrentLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(retrieveWeatherData, () => alert('No se pudo obtener la ubicaci√≥n.'));
    } else {
        alert('Geolocalizaci√≥n no soportada en este navegador.');
    }
}

function retrieveWeatherData(position) {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;
    const apiKey = '2980ff43226d67e53abfcdb6d457dcc8';
    const apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`;

    axios.get(apiUrl).then(response => {
        const data = response.data;
        document.getElementById('title').innerHTML = data.name;
        document.getElementById('temperature-num').innerHTML = Math.round(data.main.temp);
        document.querySelector('.humidity').innerHTML = data.main.humidity;
        document.querySelector('.wind').innerHTML = data.wind.speed;
        document.getElementById('weatherdesc').innerHTML = data.weather[0].description;
        document.getElementById('icon').src = `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;
    });
}

// Inicia mostrando la primera secci√≥n por defecto
document.addEventListener('DOMContentLoaded', () => {
    showSection('weather'); // Por defecto, se muestra la secci√≥n "Clima"
});

</script>

    </script>
</body>
</html>